# Kamiyo Production Environment Variables
# Copy this file to .env.production and fill in values

# ==========================================
# DATABASE
# ==========================================
POSTGRES_DB=kamiyo_prod
POSTGRES_USER=kamiyo
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DATABASE_URL=postgresql://kamiyo:CHANGE_ME_STRONG_PASSWORD@postgres:5432/kamiyo_prod?sslmode=require

# Read replica (optional)
READ_REPLICA_URL=

# ==========================================
# CACHE
# ==========================================
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis:6379/0

# ==========================================
# API
# ==========================================
ENVIRONMENT=production
API_HOST=0.0.0.0
API_PORT=8000
JWT_SECRET=CHANGE_ME_JWT_SECRET_KEY_64_CHARS_MINIMUM
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ==========================================
# STRIPE PAYMENT (Day 6)
# ==========================================
# Production keys (use sk_live_* and pk_live_*)
STRIPE_SECRET_KEY=sk_live_XXXXXXXXXXXXX
STRIPE_PUBLISHABLE_KEY=pk_live_XXXXXXXXXXXXX
STRIPE_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXX

# Stripe webhook endpoint URL
STRIPE_WEBHOOK_ENDPOINT=https://api.kamiyo.ai/api/v1/payments/webhook

# Stripe Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_BASIC=price_XXXXXXXXXXXXX  # $29/month
STRIPE_PRICE_PRO=price_XXXXXXXXXXXXX    # $99/month
STRIPE_PRICE_ENTERPRISE=price_XXXXXXXXXXXXX  # $499/month

# Test mode keys (for development/staging)
# STRIPE_SECRET_KEY=sk_test_XXXXXXXXXXXXX
# STRIPE_PUBLISHABLE_KEY=pk_test_XXXXXXXXXXXXX

# ==========================================
# EMAIL (SendGrid)
# ==========================================
SENDGRID_API_KEY=SG.XXXXXXXXXXXXX
FROM_EMAIL=noreply@kamiyo.ai
ADMIN_EMAIL=admin@kamiyo.ai

# ==========================================
# MONITORING
# ==========================================
SENTRY_DSN=https://xxxxxxxxxxxxx@sentry.io/xxxxxxxxxxxxx
SENTRY_ENVIRONMENT=production

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# ==========================================
# BLOCKCHAIN / WEB3
# ==========================================
# Alchemy, Infura, or QuickNode
WEB3_PROVIDER_URI=https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY_HERE

# Additional chain providers (optional)
BSC_PROVIDER_URI=
POLYGON_PROVIDER_URI=
ARBITRUM_PROVIDER_URI=

# ==========================================
# AGGREGATOR API KEYS (Days 22-24)
# ==========================================
# GitHub Security Advisories (Optional - increases rate limit)
GITHUB_TOKEN=ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# HackerOne API (Optional - enables API access)
HACKERONE_API_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Etherscan API (for on-chain monitoring)
ETHERSCAN_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
BSCSCAN_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
POLYGONSCAN_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# RPC Providers (for on-chain monitoring)
INFURA_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
ALCHEMY_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ==========================================
# TWITTER / SOCIAL
# ==========================================
TWITTER_BEARER_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXX
TWITTER_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXX
TWITTER_API_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXX

# ==========================================
# SECURITY
# ==========================================
# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=https://kamiyo.ai,https://www.kamiyo.ai,https://api.kamiyo.ai

# Trusted proxy IPs (for rate limiting anti-spoofing)
# Add your load balancer or reverse proxy IPs
TRUSTED_PROXIES=10.0.0.1

# IPs to bypass rate limiting (optional, for monitoring tools)
RATE_LIMIT_WHITELIST=

# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32

# Rate limiting
RATE_LIMIT_FREE=10
RATE_LIMIT_BASIC=100
RATE_LIMIT_PRO=1000
RATE_LIMIT_ENTERPRISE=10000

# ==========================================
# DOMAIN & SSL
# ==========================================
DOMAIN=kamiyo.ai
ADMIN_EMAIL_SSL=admin@kamiyo.ai

# ==========================================
# BACKUP
# ==========================================
# S3 or Digital Ocean Spaces
BACKUP_S3_BUCKET=kamiyo-backups
BACKUP_S3_ACCESS_KEY=XXXXXXXXXXXXX
BACKUP_S3_SECRET_KEY=XXXXXXXXXXXXX
BACKUP_S3_REGION=us-east-1

# ==========================================
# AGGREGATOR
# ==========================================
AGGREGATOR_INTERVAL_SECONDS=300
MAX_RETRIES=3
REQUEST_TIMEOUT_SECONDS=30

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==========================================
# DISCORD INTEGRATION (Day 26)
# ==========================================
# Discord Bot Token (from Discord Developer Portal)
DISCORD_BOT_TOKEN=XXXXXXXXXXXXX.XXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXX

# Discord OAuth2 (for bot authorization)
DISCORD_CLIENT_ID=123456789012345678
DISCORD_CLIENT_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DISCORD_REDIRECT_URI=https://app.kamiyo.ai/discord/callback

# Discord Monitor (comma-separated guild_id:channel_id pairs)
# Example: 123456:789012,345678:901234
DISCORD_MONITOR_SERVERS=
DISCORD_MONITOR_TOKEN=XXXXXXXXXXXXX.XXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXX

# ==========================================
# TELEGRAM INTEGRATION (Day 25)
# ==========================================
# Telegram Bot Token (from @BotFather)
TELEGRAM_BOT_TOKEN=123456789:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Telegram Bot Username (for display purposes)
TELEGRAM_BOT_USERNAME=kamiyo_bot

# Telegram API credentials (from https://my.telegram.org)
# Required for advanced channel monitoring (optional)
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Telegram channels to monitor (comma-separated, include @)
# Example: @defisecurity,@rugdoc,@chaindefend
TELEGRAM_MONITOR_CHANNELS=@defisecurity,@rugdoc

# ==========================================
# FEATURE FLAGS
# ==========================================
ENABLE_COMMUNITY_SUBMISSIONS=true
ENABLE_TWITTER_MONITORING=false
ENABLE_ONCHAIN_MONITORING=false
ENABLE_EMAIL_ALERTS=true
ENABLE_DISCORD_ALERTS=true
ENABLE_DISCORD_MONITORING=false
ENABLE_TELEGRAM_ALERTS=true
ENABLE_TELEGRAM_MONITORING=false

# ==========================================
# ADMIN
# ==========================================
ADMIN_API_KEY=CHANGE_ME_ADMIN_API_KEY
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=CHANGE_ME_BCRYPT_HASH

# ==========================================
# SOCIAL MEDIA POSTING (Day 31)
# ==========================================
# Enable/disable posting to each platform
REDDIT_ENABLED=false
DISCORD_SOCIAL_ENABLED=false
TELEGRAM_SOCIAL_ENABLED=false
X_TWITTER_ENABLED=false

# Minimum loss amount to trigger social posting (USD)
SOCIAL_MIN_AMOUNT_USD=100000

# Chains to post about (comma-separated, leave empty for all)
SOCIAL_ENABLED_CHAINS=Ethereum,BSC,Polygon,Arbitrum

# ==========================================
# REDDIT POSTING
# ==========================================
REDDIT_CLIENT_ID=XXXXXXXXXXXXX
REDDIT_CLIENT_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXX
REDDIT_USERNAME=your_reddit_bot_account
REDDIT_PASSWORD=your_reddit_password
REDDIT_SUBREDDITS=defi,CryptoCurrency,CryptoTechnology

# ==========================================
# DISCORD POSTING (Webhooks for announcements)
# ==========================================
# Format: channel_name=webhook_url,channel_name2=webhook_url2
DISCORD_SOCIAL_WEBHOOKS=defi_alerts=https://discord.com/api/webhooks/XXX/YYY,crypto_news=https://discord.com/api/webhooks/AAA/BBB

# ==========================================
# TELEGRAM POSTING
# ==========================================
# Different bot for posting (separate from alert bot)
TELEGRAM_SOCIAL_BOT_TOKEN=123456789:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Format: channel_name=chat_id,channel_name2=chat_id2
TELEGRAM_SOCIAL_CHATS=defi_channel=@yourchannelname,alerts_group=-1001234567890

# ==========================================
# X / TWITTER POSTING
# ==========================================
X_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXX
X_API_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
X_ACCESS_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
X_ACCESS_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
X_BEARER_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ==========================================
# KAMIYO WATCHER CONFIGURATION
# ==========================================
# Kamiyo API endpoint
KAMIYO_API_URL=https://api.kamiyo.ai

# Kamiyo API key (optional, for higher rate limits)
KAMIYO_API_KEY=

# Kamiyo WebSocket URL (for real-time mode)
KAMIYO_WEBSOCKET_URL=wss://api.kamiyo.ai/ws

# Watcher mode: 'poll' or 'websocket'
WATCHER_MODE=poll

# Polling interval in seconds (for poll mode)
POLL_INTERVAL_SECONDS=60

# ==========================================
# NOTES
# ==========================================
# 1. Never commit this file with real values
# 2. Use strong, random passwords (32+ characters)
# 3. Rotate secrets regularly (every 90 days)
# 4. Use environment-specific values
# 5. Keep backup of production secrets securely
