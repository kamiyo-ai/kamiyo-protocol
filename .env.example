# Kamiyo Social Media Module - Environment Configuration Example
# Copy this file to .env.production and fill in your credentials
# DO NOT commit .env.production to version control!

#==============================================================================
# CORE CONFIGURATION
#==============================================================================

# Kamiyo API Configuration (REQUIRED)
KAMIYO_API_URL=https://api.kamiyo.ai
KAMIYO_API_KEY=your_kamiyo_api_key_here
KAMIYO_WEBSOCKET_URL=wss://api.kamiyo.ai/ws

# Environment (development or production)
ENVIRONMENT=development

# CSRF Protection Configuration (BLOCKER 1 - Production Security)
# Generate secure secret: openssl rand -hex 32
CSRF_SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_USE_32_CHARS_MINIMUM
CSRF_TOKEN_EXPIRATION=7200                    # Token expiry in seconds (default: 2 hours)

# Watcher Configuration
WATCHER_MODE=poll                          # Options: poll, websocket
POLL_INTERVAL_SECONDS=60                   # Polling interval (if mode=poll)
SOCIAL_MIN_AMOUNT_USD=100000              # Minimum exploit amount to post ($100k)
SOCIAL_ENABLED_CHAINS=Ethereum,BSC,Polygon,Arbitrum,Optimism  # Comma-separated

#==============================================================================
# STRIPE PAYMENT CONFIGURATION (REQUIRED FOR SUBSCRIPTIONS)
#==============================================================================

# Stripe API Keys
# Get these from https://dashboard.stripe.com/apikeys
# IMPORTANT: Use test keys (sk_test_*) in development, live keys (sk_live_*) in production
STRIPE_SECRET_KEY=sk_test_your_secret_key_here                    # REQUIRED
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here          # REQUIRED

# Stripe API Version
STRIPE_API_VERSION=2023-10-16                                      # Default: latest stable

# Webhook Secret for verifying Stripe webhook signatures
# Get from https://dashboard.stripe.com/webhooks after creating webhook endpoint
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here               # REQUIRED for production

# Stripe Price IDs for subscription tiers
# Create products and prices in Stripe Dashboard: https://dashboard.stripe.com/products
# Format: price_xxxxx (monthly recurring prices)
STRIPE_PRICE_ID_PRO=price_xxxxx                                    # Pro tier ($89/month)
STRIPE_PRICE_ID_TEAM=price_xxxxx                                   # Team tier ($199/month)
STRIPE_PRICE_ID_ENTERPRISE=price_xxxxx                             # Enterprise tier ($499/month)

# Stripe Price IDs for MCP Subscription Tiers
# Create these products in Stripe Dashboard: https://dashboard.stripe.com/products
# Use scripts/stripe/create_mcp_products.sh to automate creation
STRIPE_PRICE_MCP_PERSONAL=price_xxxxx                              # MCP Personal ($19/month)
STRIPE_PRICE_MCP_TEAM=price_xxxxx                                  # MCP Team ($99/month)
STRIPE_PRICE_MCP_ENTERPRISE=price_xxxxx                            # MCP Enterprise ($299/month)

# Stripe Customer Portal
# Enable at: https://dashboard.stripe.com/settings/billing/portal
STRIPE_CUSTOMER_PORTAL_URL=https://billing.stripe.com/p/login/test_xxxxx  # Customer self-service portal

#==============================================================================
# MCP (MODEL CONTEXT PROTOCOL) AUTHENTICATION
#==============================================================================

# MCP JWT Secret for token signing
# Generate secure secret: openssl rand -hex 32
# REQUIRED for MCP server functionality
MCP_JWT_SECRET=your_mcp_jwt_secret_here_32_chars_minimum

# MCP JWT Algorithm (default: HS256)
MCP_JWT_ALGORITHM=HS256

# MCP Token Expiration (in days)
# Default: 365 days (1 year)
MCP_TOKEN_EXPIRY_DAYS=365

# MCP Server Configuration
MCP_SERVER_NAME=kamiyo-security
MCP_SERVER_VERSION=1.0.0
MCP_SERVER_DESCRIPTION=Real-time crypto exploit intelligence for AI agents

# MCP Rate Limiting (requests per minute)
RATE_LIMIT_PERSONAL_RPM=30
RATE_LIMIT_PERSONAL_DAILY=1000
RATE_LIMIT_TEAM_RPM=100
RATE_LIMIT_TEAM_DAILY=10000
RATE_LIMIT_ENTERPRISE_RPM=500
RATE_LIMIT_ENTERPRISE_DAILY=100000

#==============================================================================
# X402 PAYMENT FACILITATOR CONFIGURATION
#==============================================================================

# x402 Admin API Key (for cleanup operations)
# Generate secure random string: openssl rand -hex 32
X402_ADMIN_KEY=your_secure_admin_key_here                          # REQUIRED

# Payment Addresses for USDC payments
# Generate secure wallet addresses for each blockchain
X402_BASE_PAYMENT_ADDRESS=0xYourBaseAddressHere                    # Base network
X402_ETHEREUM_PAYMENT_ADDRESS=0xYourEthAddressHere                 # Ethereum mainnet
X402_SOLANA_PAYMENT_ADDRESS=YourSolanaAddressHere                  # Solana mainnet

# RPC Endpoints (get API keys from providers)
X402_BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR-API-KEY
X402_ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR-API-KEY
X402_SOLANA_RPC_URL=https://solana-mainnet.g.alchemy.com/v2/YOUR-API-KEY

# x402 Payment Configuration
X402_USDC_PER_REQUEST=0.001                                        # Cost per API call ($0.001)
X402_MIN_PAYMENT_USDC=1.0                                          # Minimum payment ($1.00)
X402_TOKEN_EXPIRY_HOURS=24                                         # Token valid for 24 hours

#==============================================================================
# REDDIT CONFIGURATION
#==============================================================================

REDDIT_ENABLED=false                       # Set to true to enable Reddit posting
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USERNAME=your_reddit_username
REDDIT_PASSWORD=your_reddit_password
REDDIT_SUBREDDITS=defi,CryptoCurrency,ethereum,bitcoin

#==============================================================================
# DISCORD CONFIGURATION - AI Social Posting
#==============================================================================

# Discord webhook for AI-generated quote tweet notifications
# Leave empty to disable Discord posting (Twitter only)
DISCORD_SOCIAL_WEBHOOK=https://discord.com/api/webhooks/YOUR_ID/YOUR_TOKEN

#==============================================================================
# TELEGRAM CONFIGURATION
#==============================================================================

TELEGRAM_SOCIAL_ENABLED=false              # Set to true to enable Telegram posting
TELEGRAM_SOCIAL_BOT_TOKEN=your_telegram_bot_token
# Format: chat_name=chat_id,another_chat=chat_id2
TELEGRAM_SOCIAL_CHATS=alerts=-1001234567890

#==============================================================================
# X/TWITTER CONFIGURATION
#==============================================================================

X_TWITTER_ENABLED=false                    # Set to true to enable X/Twitter posting
X_API_KEY=your_x_api_key
X_API_SECRET=your_x_api_secret
X_ACCESS_TOKEN=your_x_access_token
X_ACCESS_SECRET=your_x_access_secret
X_BEARER_TOKEN=your_x_bearer_token

#==============================================================================
# LOGGING CONFIGURATION
#==============================================================================

LOG_LEVEL=INFO                             # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json                            # Options: json, text

#==============================================================================
# MONITORING CONFIGURATION (OPTIONAL)
#==============================================================================

# Sentry Error Tracking
SENTRY_DSN=                                # Leave empty to disable

# Prometheus Metrics
PROMETHEUS_ENABLED=false                   # Set to true to enable Prometheus metrics

#==============================================================================
# HEALTH CHECK CONFIGURATION
#==============================================================================

HEALTH_CHECK_PORT=8000                     # Port for health check endpoint

#==============================================================================
# REDIS CONFIGURATION (OPTIONAL)
#==============================================================================

REDIS_PASSWORD=your_redis_password         # Leave empty if Redis not used

#==============================================================================
# RATE LIMITING CONFIGURATION
#==============================================================================

RATE_LIMIT_POSTS_PER_HOUR=10              # Maximum posts per hour per platform
RETRY_ATTEMPTS=3                           # Number of retry attempts for failed posts
RETRY_DELAY_SECONDS=60                     # Delay between retries (seconds)

#==============================================================================
# FEATURE FLAGS
#==============================================================================

AUTO_POST_ENABLED=false                    # Set to true to skip manual approval (not recommended)
WEBSOCKET_ENABLED=true                     # Enable WebSocket for real-time updates

#==============================================================================
# PERFORMANCE TUNING
#==============================================================================

MAX_WORKERS=4                              # Maximum concurrent workers
WORKER_TIMEOUT=300                         # Worker timeout in seconds

#==============================================================================
# SOLANA DEVELOPMENT CONFIGURATION (DEVNET)
#==============================================================================

# Solana Development Environment
# Configure after running: bash scripts/setup_solana_dev.sh
SOLANA_DEVNET_KEYPAIR_PATH=~/.config/solana/devnet.json
SOLANA_DEVNET_WALLET_ADDRESS=                                  # Populated after wallet generation
SOLANA_NETWORK=devnet
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_COMMITMENT=confirmed                                    # Options: processed, confirmed, finalized

# Anchor Program IDs (populated after deployment)
# Deploy programs: cd solana-programs && anchor deploy
KAMIYO_TOKEN_PROGRAM_ID=                                       # Token-2022 mint program
KAMIYO_STAKING_PROGRAM_ID=                                     # Staking rewards program
KAMIYO_AIRDROP_PROGRAM_ID=                                     # Merkle airdrop program
KAMIYO_VESTING_PROGRAM_ID=                                     # Linear vesting program

# Token-2022 Configuration
KAMIYO_TOKEN_MINT_ADDRESS=                                     # Mint address (after token creation)
KAMIYO_TOKEN_DECIMALS=9                                        # Standard Solana token decimals
KAMIYO_TOKEN_SUPPLY=1000000000                                 # 1B total supply
KAMIYO_TRANSFER_FEE_BASIS_POINTS=200                          # 2% transfer fee (200 basis points)

# Staking Configuration (Devnet Testing)
KAMIYO_STAKING_MIN_AMOUNT=100                                 # Minimum stake: 100 tokens
KAMIYO_STAKING_BRONZE_APY=10                                  # Bronze tier: 10% APY
KAMIYO_STAKING_SILVER_APY=15                                  # Silver tier: 15% APY
KAMIYO_STAKING_GOLD_APY=20                                    # Gold tier: 20% APY
KAMIYO_STAKING_PLATINUM_APY=25                                # Platinum tier: 25% APY

# Airdrop Configuration
KAMIYO_AIRDROP_ALLOCATION=100000000                           # 100M tokens for airdrop
KAMIYO_AIRDROP_MERKLE_ROOT=                                   # Populated after Merkle tree generation

# Vesting Configuration
KAMIYO_VESTING_DURATION_MONTHS=24                             # 24-month linear vesting
KAMIYO_VESTING_CLIFF_MONTHS=6                                 # 6-month cliff period

# Solana Mainnet Configuration (for production)
# IMPORTANT: Use separate keypairs for mainnet - NEVER use devnet keys on mainnet
# SOLANA_MAINNET_KEYPAIR_PATH=~/.config/solana/mainnet.json
# SOLANA_MAINNET_WALLET_ADDRESS=
# SOLANA_MAINNET_RPC_URL=https://api.mainnet-beta.solana.com
# SOLANA_MAINNET_RPC_URL=https://solana-mainnet.g.alchemy.com/v2/YOUR-API-KEY  # Alternative: Alchemy
# SOLANA_MAINNET_RPC_URL=https://rpc.helius.xyz/?api-key=YOUR-API-KEY          # Alternative: Helius

#==============================================================================
# NOTES
#==============================================================================
#
# 1. Payment Configuration (CRITICAL):
#    - Stripe keys are REQUIRED for subscription-based API access
#    - Use test mode (sk_test_*) in development, live mode (sk_live_*) in production
#    - Create webhook endpoint at https://dashboard.stripe.com/webhooks
#    - Configure subscription products and prices in Stripe Dashboard
#    - x402 payment facilitator enables pay-per-use USDC payments
#    - Generate secure wallet addresses for each supported blockchain
#    - Configure RPC endpoints with API keys from providers (Alchemy, Infura, etc.)
#
# 2. Platform Credentials:
#    - At least ONE social media platform must be enabled
#    - Only enabled platforms require credentials
#    - Credentials are validated before deployment
#
# 3. Kamiyo API:
#    - API key is REQUIRED for all deployments
#    - WebSocket URL is optional (only if using websocket mode)
#
# 4. Security:
#    - NEVER commit this file with real credentials
#    - Use environment-specific files (.env.production, .env.staging)
#    - Keep credentials secure and rotate regularly
#    - Store Stripe webhook secrets securely
#    - Protect wallet private keys (not stored in .env)
#
# 5. Testing:
#    - Start with Stripe test mode before going live
#    - Use test subreddits/channels before production
#    - Test x402 payment flow on testnet first
#    - Monitor logs for any issues
#
# 6. Validation:
#    - Run ./scripts/validate_social_env.sh before deployment
#    - Check all required variables are set
#    - Verify payment configuration is complete
#    - Test webhook endpoint connectivity
#
# 7. x402 Setup:
#    - Generate admin key: openssl rand -hex 32
#    - Create secure wallet addresses for Base, Ethereum, Solana
#    - Configure RPC endpoints with rate-limited API keys
#    - Set appropriate pricing (USDC_PER_REQUEST, MIN_PAYMENT_USDC)
#    - Test payment verification on testnet before production
#
#==============================================================================
